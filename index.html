<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Transforma - Län</title>
    <link href="libs/vizabi.css" rel="stylesheet" type="text/css" >
    <link href="libs/bubblechart.css" rel="stylesheet" type="text/css">
    <link href="libs/bubblemap.css" rel="stylesheet" type="text/css">
    <link href="libs/mountainchart.css" rel="stylesheet" type="text/css">
    <link href="libs/barrankchart.css" rel="stylesheet" type="text/css">
    <link href="libs/linechart.css" rel="stylesheet" type="text/css">

    <style>
      .button {
        border: none;
            color: white;
            padding: 8px 15px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 12px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 12px;
            transition: background-color 0.3s;
      }
      
      .tab-bubble {background-color: #789e9e;}
      .tab-line {background-color: #ff6159;}
      .tab-bar {background-color: #60849a;}
      </style>


    <script src="libs/d3.js"></script>
    <script src="libs/vizabi.js"></script>
    <script src="libs/bubblechart.js"></script>
    <script src="libs/bubblemap.js"></script>
    <script src="libs/mountainchart.js"></script>
    <script src="libs/barrankchart.js"></script>
    <script src="libs/linechart.js"></script>
    <script src="libs/vizabi-ddfcsv-reader.js"></script>
    <script src="libs/vizabi-csv-reader.js"></script>
    <script src="libs/vizabi-excel-reader.js"></script>
  </head>

  <body style="width: 70%; max-width: 900px; height: 100%; margin: 0 auto; font-family: 'Segoe UI black';">
	<h1>Transforma Län</h1>

  <div class="tabs">
    <button class= "button tab-bubble" id="tab-bubble">Välj Bubble Chart</button>
    <button class= "button tab-line" id="tab-line">Välj Line Chart</button>
    <button class= "button tab-bar" id="tab-bar">Välj Barrank Chart</button>
</div>

<div id="placeholder" style="width: 100%; height: 600px;"></div>

    <script src="config.js"></script>
    <script src="index.js"></script>
    <script>

      var ddfcsvReader = new DDFCsvReader.getDDFCsvReaderObject();
      Vizabi.Reader.extend("ddf", ddfcsvReader);
      Vizabi.Reader.extend("ext-csv", CsvReader.csvReaderObject);
      Vizabi.Reader.extend("excel", ExcelReader.excelReaderObject);

// New code to test different chart versions
     var viz = Vizabi(CONFIG.chartType, document.getElementById('placeholder'), CONFIG);

     document.getElementById('tab-bubble').addEventListener('click', function() {
        CONFIG.chartType = 'BubbleChart'; // Update the chart type in config
        viz.destroy(); // Destroy the current chart
        viz = Vizabi(CONFIG.chartType, document.getElementById('placeholder'), CONFIG);
      });

      document.getElementById('tab-line').addEventListener('click', function() {
        CONFIG.chartType = 'LineChart';
        viz.destroy();
        viz = Vizabi(CONFIG.chartType, document.getElementById('placeholder'), CONFIG);
      });

      document.getElementById('tab-bar').addEventListener('click', function() {
        CONFIG.chartType = 'BarRankChart';
        viz.destroy();
        viz = Vizabi(CONFIG.chartType, document.getElementById('placeholder'), CONFIG);
      });


//      var viz = Vizabi('BubbleChart', document.getElementById('placeholder'), CONFIG);
//      var viz = Vizabi('BarRankChart', document.getElementById('placeholder'), CONFIG);
//      var viz = Vizabi('LineChart', document.getElementById('placeholder'), CONFIG);

    </script>
  </body>
</html>
